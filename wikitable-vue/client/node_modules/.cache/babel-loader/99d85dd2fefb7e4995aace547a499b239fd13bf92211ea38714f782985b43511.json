{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-73459137\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"pdfvuer\"\n};\nconst _hoisted_2 = {\n  id: \"buttons\",\n  class: \"ui grey three item inverted bottom fixed menu transition hidden\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"left chevron icon\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"ui active item\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"right chevron icon\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = {\n  id: \"buttons\",\n  class: \"ui grey three item inverted bottom fixed menu transition hidden\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"left chevron icon\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"ui active item\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"right chevron icon\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"template\", {\n  slot: \"loading\"\n}, [/*#__PURE__*/_createTextVNode(\" loading content here... \")], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_pdf = _resolveComponent(\"pdf\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"a\", {\n    class: \"item\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.page > 1 ? $data.page-- : 1)\n  }, [_hoisted_3, _createTextVNode(\" Back \")]), _createElementVNode(\"a\", _hoisted_4, _toDisplayString($data.page) + \" / \" + _toDisplayString($data.numPages ? $data.numPages : '∞'), 1 /* TEXT */), _createElementVNode(\"a\", {\n    class: \"item\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.page < $data.numPages ? $data.page++ : 1)\n  }, [_createTextVNode(\" Forward \"), _hoisted_5])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"a\", {\n    class: \"item\",\n    onClick: _cache[2] || (_cache[2] = $event => $data.scale -= $data.scale > 0.2 ? 0.1 : 0)\n  }, [_hoisted_7, _createTextVNode(\" Zoom - \")]), _createElementVNode(\"a\", _hoisted_8, _toDisplayString($options.formattedZoom) + \" % \", 1 /* TEXT */), _createElementVNode(\"a\", {\n    class: \"item\",\n    onClick: _cache[3] || (_cache[3] = $event => $data.scale += $data.scale < 2 ? 0.1 : 0)\n  }, [_createTextVNode(\" Zoom + \"), _hoisted_9])]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.numPages, i => {\n    return _openBlock(), _createBlock(_component_pdf, {\n      src: $data.pdfdata,\n      key: i,\n      id: i,\n      page: i,\n      scale: $data.scale,\n      style: {\n        \"width\": \"100%\",\n        \"margin\": \"20px auto\"\n      },\n      annotation: true,\n      resize: true,\n      onLinkClicked: $options.handle_pdf_link\n    }, {\n      default: _withCtx(() => [_hoisted_10]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"src\", \"id\", \"page\", \"scale\", \"onLinkClicked\"]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["id","class","_createElementVNode","slot","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","$event","$data","page","_hoisted_3","_hoisted_4","_toDisplayString","numPages","_hoisted_5","_hoisted_6","scale","_hoisted_7","_hoisted_8","$options","formattedZoom","_hoisted_9","_Fragment","_renderList","i","_createBlock","_component_pdf","src","pdfdata","key","style","annotation","resize","onLinkClicked","handle_pdf_link","default","_withCtx","_hoisted_10","_"],"sources":["/Users/wakouboy/Documents/Projects/paper-ref/client/src/components/PDFView.vue"],"sourcesContent":["<template>\n  <div id=\"pdfvuer\">\n    <div id=\"buttons\" class=\"ui grey three item inverted bottom fixed menu transition hidden\">\n      <a class=\"item\" @click=\"page > 1 ? page-- : 1\">\n        <i class=\"left chevron icon\"></i>\n        Back\n      </a>\n      <a class=\"ui active item\">\n        {{page}} / {{ numPages ? numPages : '∞' }}\n      </a>\n      <a class=\"item\" @click=\"page < numPages ? page++ : 1\">\n        Forward\n        <i class=\"right chevron icon\"></i>\n      </a>\n    </div>\n    <div id=\"buttons\" class=\"ui grey three item inverted bottom fixed menu transition hidden\">\n      <a class=\"item\" @click=\"scale -= scale > 0.2 ? 0.1 : 0\">\n        <i class=\"left chevron icon\" />\n          Zoom -\n      </a>\n      <a class=\"ui active item\">\n        {{ formattedZoom }} %\n      </a>\n      <a class=\"item\" @click=\"scale += scale < 2 ? 0.1 : 0\">\n        Zoom +\n        <i class=\"right chevron icon\" />\n      </a>\n    </div>\n    <pdf :src=\"pdfdata\" v-for=\"i in numPages\" :key=\"i\" :id=\"i\" :page=\"i\"\n      :scale.sync=\"scale\" style=\"width:100%;margin:20px auto;\"\n        :annotation=\"true\"\n        :resize=\"true\"\n        @link-clicked=\"handle_pdf_link\">\n      <template slot=\"loading\">\n        loading content here...\n      </template>\n    </pdf>\n  </div>\n</template>\n\n<script>\nimport pdfvuer from 'pdfvuer'\n// import 'pdfjs-dist/build/pdf.worker.entry' // not needed since v1.9.1\n\nexport default {\n  components: {\n    pdf: pdfvuer\n  },\n  data () {\n    return {\n      page: 1,\n      numPages: 0,\n      pdfdata: undefined,\n      errors: [],\n      scale: 'page-width'\n    }\n  },\n  computed: {\n    formattedZoom () {\n        return Number.parseInt(this.scale * 100);\n    },\n  },\n  mounted () {\n    this.getPdf()\n  },\n  watch: {\n    show: function (s) {\n      if(s) {\n        this.getPdf();\n      }\n    },\n    page: function (p) {\n      if( window.pageYOffset <= this.findPos(document.getElementById(p)) || ( document.getElementById(p+1) && window.pageYOffset >= this.findPos(document.getElementById(p+1)) )) {\n        // window.scrollTo(0,this.findPos(document.getElementById(p)));\n        document.getElementById(p).scrollIntoView();\n      }\n    }\n  },\n  methods: {\n    handle_pdf_link: function (params) {\n      // Scroll to the appropriate place on our page - the Y component of\n      // params.destArray * (div height / ???), from the bottom of the page div\n      var page = document.getElementById(String(params.pageNumber));\n      page.scrollIntoView();\n    },\n    getPdf () {\n      var self = this;\n      self.pdfdata = pdfvuer.createLoadingTask('./sample.pdf');\n      self.pdfdata.then(pdf => {\n        self.numPages = pdf.numPages;\n        window.onscroll = function() { \n          changePage() \n          stickyNav()  \n        }\n\n        // Get the offset position of the navbar\n        var sticky = $('#buttons')[0].offsetTop\n\n        // Add the sticky class to the self.$refs.nav when you reach its scroll position. Remove \"sticky\" when you leave the scroll position\n        function stickyNav() {\n          if (window.pageYOffset >= sticky) {\n            $('#buttons')[0].classList.remove(\"hidden\")\n          } else {\n            $('#buttons')[0].classList.add(\"hidden\")\n          }\n        }\n\n        function changePage () {\n          var i = 1, count = Number(pdf.numPages);\n          do {\n            if(window.pageYOffset >= self.findPos(document.getElementById(i)) && \n                window.pageYOffset <= self.findPos(document.getElementById(i+1))) {\n              self.page = i\n            }\n            i++\n          } while ( i < count)\n          if (window.pageYOffset >= self.findPos(document.getElementById(i))) {\n            self.page = i\n          }\n        }\n      });\n    },\n    findPos(obj) {\n      return obj.offsetTop;\n    }\n  }\n}\n</script>\n<!-- <style src=\"pdfvuer/dist/pdfvuer.css\"></style> -->\n<style lang=\"css\" scoped>\n  #buttons {\n    margin-left: 0 !important;\n    margin-right: 0 !important;\n  }\n  /* Page content */\n  .content {\n    padding: 16px;\n  }\n  #pdfvuer{\n    width: 50%;\n    height: 100%;\n  }\n</style>"],"mappings":";;;EACOA,EAAE,EAAC;AAAS;;EACVA,EAAE,EAAC,SAAS;EAACC,KAAK,EAAC;;gEAEpBC,mBAAA,CAAiC;EAA9BD,KAAK,EAAC;AAAmB;;EAG3BA,KAAK,EAAC;AAAgB;gEAKvBC,mBAAA,CAAkC;EAA/BD,KAAK,EAAC;AAAoB;;EAG5BD,EAAE,EAAC,SAAS;EAACC,KAAK,EAAC;;gEAEpBC,mBAAA,CAA+B;EAA5BD,KAAK,EAAC;AAAmB;;EAG3BA,KAAK,EAAC;AAAgB;gEAKvBC,mBAAA,CAAgC;EAA7BD,KAAK,EAAC;AAAoB;iEAQ/BC,mBAAA,CAEW;EAFDC,IAAI,EAAC;AAAS,I,aAjC9BC,gBAAA,CAiC+B,2BAEzB,E;;;uBAlCJC,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJJ,mBAAA,CAYM,OAZNK,UAYM,GAXJL,mBAAA,CAGI;IAHDD,KAAK,EAAC,MAAM;IAAEO,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,KAAA,CAAAC,IAAI,OAAOD,KAAA,CAAAC,IAAI;MACrCC,UAAiC,EAJzCT,gBAAA,CAIyC,QAEnC,E,GACAF,mBAAA,CAEI,KAFJY,UAEI,EAAAC,gBAAA,CADAJ,KAAA,CAAAC,IAAI,IAAE,KAAG,GAAAG,gBAAA,CAAGJ,KAAA,CAAAK,QAAQ,GAAGL,KAAA,CAAAK,QAAQ,wBAEnCd,mBAAA,CAGI;IAHDD,KAAK,EAAC,MAAM;IAAEO,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,KAAA,CAAAC,IAAI,GAAGD,KAAA,CAAAK,QAAQ,GAAGL,KAAA,CAAAC,IAAI;MAVpDR,gBAAA,CAU4D,WAEpD,GAAAa,UAAkC,C,KAGtCf,mBAAA,CAYM,OAZNgB,UAYM,GAXJhB,mBAAA,CAGI;IAHDD,KAAK,EAAC,MAAM;IAAEO,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,KAAA,CAAAQ,KAAK,IAAIR,KAAA,CAAAQ,KAAK;MACpCC,UAA+B,EAjBvChB,gBAAA,CAiBuC,UAEjC,E,GACAF,mBAAA,CAEI,KAFJmB,UAEI,EAAAN,gBAAA,CADCO,QAAA,CAAAC,aAAa,IAAG,KACrB,iBACArB,mBAAA,CAGI;IAHDD,KAAK,EAAC,MAAM;IAAEO,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,KAAA,CAAAQ,KAAK,IAAIR,KAAA,CAAAQ,KAAK;MAvB5Cf,gBAAA,CAuB4D,UAEpD,GAAAoB,UAAgC,C,wBAGpCnB,mBAAA,CAQMoB,SAAA,QApCVC,WAAA,CA4BoCf,KAAA,CAAAK,QAAQ,EAAbW,CAAC;yBAA5BC,YAAA,CAQMC,cAAA;MARAC,GAAG,EAAEnB,KAAA,CAAAoB,OAAO;MAAyBC,GAAG,EAAEL,CAAC;MAAG3B,EAAE,EAAE2B,CAAC;MAAGf,IAAI,EAAEe,CAAC;MAChER,KAAK,EAAOR,KAAA,CAAAQ,KAAK;MAAEc,KAAoC,EAApC;QAAA;QAAA;MAAA,CAAoC;MACrDC,UAAU,EAAE,IAAI;MAChBC,MAAM,EAAE,IAAI;MACZC,aAAY,EAAEd,QAAA,CAAAe;;MAhCvBC,OAAA,EAAAC,QAAA,CAiCM,MAEW,CAFXC,WAEW,C;MAnCjBC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}